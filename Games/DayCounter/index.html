<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Countdown</title>
</head>
<body>
  <div id="countdown"></div>

  <script>
    // List of holidays in 'YYYY-MM-DD' format
    const holidays = new Set([
      '2024-12-23', '2024-12-24', '2024-12-25', '2024-12-26', '2024-12-27',
      '2024-12-30', '2024-12-31', '2025-01-01', '2025-01-02', '2025-01-03',
      '2025-01-20', '2025-01-29', '2025-02-17', '2025-03-31', '2025-04-01',
      '2025-04-14', '2025-04-15', '2025-04-16', '2025-04-17', '2025-04-18',
      '2025-05-26'
    ]);

    // End date
    const endDate = new Date('2025-06-11');

    // Function to check if a date is a weekend or holiday
    function isWeekendOrHoliday(date) {
      const dayOfWeek = date.getDay();
      if (dayOfWeek === 0 || dayOfWeek === 6) return true; // Weekend
      return holidays.has(date.toISOString().split('T')[0]); // Holiday
    }

    // Calculate business days left until the end date
    function calculateBusinessDaysLeft(endDate) {
      const currentDate = new Date();
      let daysLeft = 0;
      let tempDate = new Date(currentDate);

      // Iterate day by day and count business days (non-weekend and non-holiday)
      while (tempDate <= endDate) {
        if (!isWeekendOrHoliday(tempDate)) {
          daysLeft++;
        }
        tempDate.setDate(tempDate.getDate() + 1);
      }

      return daysLeft; // Return the number of business days left
    }

    // Update the countdown
    function updateCountdown() {
      const daysLeft = calculateBusinessDaysLeft(endDate);
      const countdownElement = document.getElementById('countdown');
      countdownElement.innerText = `${daysLeft} days left until the end of school.`;

      // Update the page title for bookmarklets
      document.title = `${daysLeft} days left!`;
    }

    // Update countdown when the page loads
    updateCountdown();
  </script>
</body>
</html>
